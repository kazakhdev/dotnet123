{"ast":null,"code":"var _s = $RefreshSig$();\nimport { useState, useCallback, useEffect, useRef } from 'react';\nexport const useHttp = () => {\n  _s();\n  const [error, setError] = useState(null);\n  const [loading, setLoading] = useState(false);\n  const [messages, setMessages] = useState(null);\n  const dataRef = useRef(null); // Use useRef to store the data value\n\n  const sendRequest = useCallback(async (body = null, headers = {}) => {\n    setLoading(true);\n    try {\n      if (body) {\n        if (headers['Content-Type'] !== 'multipart/form-data; charset=utf-8; boundary=\"--WebKitBoundary\"') {\n          body = JSON.stringify(body);\n        }\n      }\n      const response = sendRequest('https://localhost:5001/todo', {\n        method: 'GET',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify(body)\n      });\n      const jsonData = await response.json();\n      dataRef.current = jsonData; // Store the data value in the re\n      setLoading(false);\n      if (!response.ok) {\n        setMessages(jsonData.errors);\n        throw new Error(jsonData.message || 'Something went wrong...');\n      }\n      setError(null);\n      return jsonData;\n    } catch (e) {\n      setLoading(false);\n      setError(e.message);\n      throw e;\n    }\n  }, []);\n  useEffect(() => {\n    sendRequest();\n  }, [sendRequest]);\n  const clearError = useCallback(() => setError(null), []);\n  const clearMessages = useCallback(() => setMessages(null), []);\n  return {\n    loading,\n    sendRequest,\n    error,\n    data: dataRef.current,\n    // Return the data from the ref\n    clearError,\n    clearMessages,\n    messages\n  };\n};\n_s(useHttp, \"ZV9D07FJi+dUWTweDFAP4XY5v6M=\");","map":{"version":3,"names":["useState","useCallback","useEffect","useRef","useHttp","_s","error","setError","loading","setLoading","messages","setMessages","dataRef","sendRequest","body","headers","JSON","stringify","response","method","jsonData","json","current","ok","errors","Error","message","e","clearError","clearMessages","data"],"sources":["C:/Users/TEQ/Desktop/fullstack-dotnet-react/frontend/src/hooks/useHttp.js"],"sourcesContent":["import  { useState, useCallback, useEffect, useRef } from 'react';\n\nexport const useHttp = () => {\n  const [error, setError] = useState(null);\n  const [loading, setLoading] = useState(false);\n  const [messages, setMessages] = useState(null);\n  const dataRef = useRef(null); // Use useRef to store the data value\n\n  const sendRequest = useCallback(async (body = null, headers = {}) => {\n    setLoading(true);\n    try {\n      if (body) {\n        if (headers['Content-Type'] !== 'multipart/form-data; charset=utf-8; boundary=\"--WebKitBoundary\"') {\n          body = JSON.stringify(body);\n        }\n      }\n      const response =  sendRequest('https://localhost:5001/todo', {\n        method: 'GET',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify(body)\n      });\n\n      const jsonData = await response.json();\n      dataRef.current = jsonData; // Store the data value in the re\n      setLoading(false);\n\n      if (!response.ok) {\n        setMessages(jsonData.errors);\n        throw new Error(jsonData.message || 'Something went wrong...');\n      }\n\n      setError(null);\n      return jsonData;\n    } catch (e) {\n      setLoading(false);\n      setError(e.message);\n      throw e;\n    }\n  }, []);\n\n  useEffect(() => {\n    sendRequest();\n  }, [sendRequest]);\n\n  const clearError = useCallback(() => setError(null), []);\n  const clearMessages = useCallback(() => setMessages(null), []);\n\n  return {\n    loading,\n    sendRequest,\n    error,\n    data: dataRef.current, // Return the data from the ref\n    clearError,\n    clearMessages,\n    messages\n  };\n};\n"],"mappings":";AAAA,SAAUA,QAAQ,EAAEC,WAAW,EAAEC,SAAS,EAAEC,MAAM,QAAQ,OAAO;AAEjE,OAAO,MAAMC,OAAO,GAAGA,CAAA,KAAM;EAAAC,EAAA;EAC3B,MAAM,CAACC,KAAK,EAAEC,QAAQ,CAAC,GAAGP,QAAQ,CAAC,IAAI,CAAC;EACxC,MAAM,CAACQ,OAAO,EAAEC,UAAU,CAAC,GAAGT,QAAQ,CAAC,KAAK,CAAC;EAC7C,MAAM,CAACU,QAAQ,EAAEC,WAAW,CAAC,GAAGX,QAAQ,CAAC,IAAI,CAAC;EAC9C,MAAMY,OAAO,GAAGT,MAAM,CAAC,IAAI,CAAC,CAAC,CAAC;;EAE9B,MAAMU,WAAW,GAAGZ,WAAW,CAAC,OAAOa,IAAI,GAAG,IAAI,EAAEC,OAAO,GAAG,CAAC,CAAC,KAAK;IACnEN,UAAU,CAAC,IAAI,CAAC;IAChB,IAAI;MACF,IAAIK,IAAI,EAAE;QACR,IAAIC,OAAO,CAAC,cAAc,CAAC,KAAK,iEAAiE,EAAE;UACjGD,IAAI,GAAGE,IAAI,CAACC,SAAS,CAACH,IAAI,CAAC;QAC7B;MACF;MACA,MAAMI,QAAQ,GAAIL,WAAW,CAAC,6BAA6B,EAAE;QAC3DM,MAAM,EAAE,KAAK;QACbJ,OAAO,EAAE;UACP,cAAc,EAAE;QAClB,CAAC;QACDD,IAAI,EAAEE,IAAI,CAACC,SAAS,CAACH,IAAI;MAC3B,CAAC,CAAC;MAEF,MAAMM,QAAQ,GAAG,MAAMF,QAAQ,CAACG,IAAI,CAAC,CAAC;MACtCT,OAAO,CAACU,OAAO,GAAGF,QAAQ,CAAC,CAAC;MAC5BX,UAAU,CAAC,KAAK,CAAC;MAEjB,IAAI,CAACS,QAAQ,CAACK,EAAE,EAAE;QAChBZ,WAAW,CAACS,QAAQ,CAACI,MAAM,CAAC;QAC5B,MAAM,IAAIC,KAAK,CAACL,QAAQ,CAACM,OAAO,IAAI,yBAAyB,CAAC;MAChE;MAEAnB,QAAQ,CAAC,IAAI,CAAC;MACd,OAAOa,QAAQ;IACjB,CAAC,CAAC,OAAOO,CAAC,EAAE;MACVlB,UAAU,CAAC,KAAK,CAAC;MACjBF,QAAQ,CAACoB,CAAC,CAACD,OAAO,CAAC;MACnB,MAAMC,CAAC;IACT;EACF,CAAC,EAAE,EAAE,CAAC;EAENzB,SAAS,CAAC,MAAM;IACdW,WAAW,CAAC,CAAC;EACf,CAAC,EAAE,CAACA,WAAW,CAAC,CAAC;EAEjB,MAAMe,UAAU,GAAG3B,WAAW,CAAC,MAAMM,QAAQ,CAAC,IAAI,CAAC,EAAE,EAAE,CAAC;EACxD,MAAMsB,aAAa,GAAG5B,WAAW,CAAC,MAAMU,WAAW,CAAC,IAAI,CAAC,EAAE,EAAE,CAAC;EAE9D,OAAO;IACLH,OAAO;IACPK,WAAW;IACXP,KAAK;IACLwB,IAAI,EAAElB,OAAO,CAACU,OAAO;IAAE;IACvBM,UAAU;IACVC,aAAa;IACbnB;EACF,CAAC;AACH,CAAC;AAACL,EAAA,CAxDWD,OAAO"},"metadata":{},"sourceType":"module"}